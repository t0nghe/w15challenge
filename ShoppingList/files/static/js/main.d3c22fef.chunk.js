(this["webpackJsonpshopping-list-render"]=this["webpackJsonpshopping-list-render"]||[]).push([[0],{10:function(e,t,n){},5:function(e,t,n){"use strict";n.r(t);var c=n(2),i=n(1),r=n.n(i),o=n(4),s=n.n(o),u=(n(10),n(0)),a=function(){var e=Object(i.useState)([]),t=Object(c.a)(e,2),n=t[0],r=t[1],o=Object(i.useState)(null),s=Object(c.a)(o,2),a=(s[0],s[1]),j=Object(i.useState)(""),l=Object(c.a)(j,2),f=l[0],d=l[1],b=Object(i.useState)(""),h=Object(c.a)(b,2),O=h[0],p=h[1];var v=function(){fetch("/api/updated").then((function(e){return e.json()})).then((function(e){d(new Date(e.timestamp))}),(function(e){a(e)}))},x=function(){fetch("/api/list").then((function(e){return e.json()})).then((function(e){r(e)}),(function(e){a(e)}))};return Object(i.useEffect)((function(){x(),p(new Date),v()}),[]),function(e,t){var n=Object(i.useRef)();Object(i.useEffect)((function(){n.current=e}),[e]),Object(i.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){x(),p(new Date),v(),console.log("localUpdated line 77",O),console.log("serverUpdated line 78",f);var e=O-f;console.log("timediff line 61",e),e<0&&(x(),p(f))}),500),n?Object(u.jsxs)("div",{id:"main",children:[Object(u.jsx)("h1",{children:"Shopping List"}),Object(u.jsx)("table",{children:Object(u.jsx)("tbody",{children:n.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.name}),Object(u.jsxs)("td",{children:[" ",e.count]})]})}))})})]}):Object(u.jsx)("div",{id:"main",children:Object(u.jsx)("h1",{children:"There is nothing to buy."})})};s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(a,{})}),document.getElementById("root"))}},[[5,1,2]]]);
//# sourceMappingURL=main.d3c22fef.chunk.js.map